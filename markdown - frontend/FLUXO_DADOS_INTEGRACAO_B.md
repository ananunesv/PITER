# ğŸ”„ FLUXO DE DADOS - INTEGRAÃ‡ÃƒO-B

## Diagrama Geral da Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FRONTEND (Next.js)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              UI Components                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  DashboardPesquisa                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Filtros (termo, municÃ­pio, categoria, datas)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Resumo de estatÃ­sticas                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Lista de resultados                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Modal de detalhes                               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                      â”‚ usa                                â”‚ â”‚
â”‚  â”‚                      â†“                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Custom Hooks                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  useSearch()                                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - search(filters, page)                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - nextPage()                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - previousPage()                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - clearResults()                                   â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                      â”‚ chama                              â”‚ â”‚
â”‚  â”‚                      â†“                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  BackendIntegrationService                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - getRanking()                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - search(filters, page, pageSize)                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - getMunicipalityDetail(id)                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - clearCache()                                     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                      â”‚ com                                â”‚ â”‚
â”‚  â”‚                      â†“                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Types & Config                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Tipos TypeScript (Municipality, etc)             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - API_CONFIG (URLs, endpoints)                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - ApiErrorHandler                                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                      â”‚ chama                              â”‚ â”‚
â”‚  â”‚                      â†“                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Cache Manager                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - TTL: 5 minutos                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Dados em memÃ³ria                                 â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                      â”‚ se cache miss                      â”‚ â”‚
â”‚  â”‚                      â†“                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  fetch API                                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Headers padrÃ£o                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Timeout: 30s                                     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BACKEND (Python/FastAPI)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   /api/ranking                                â”‚
â”‚                   /api/search                                 â”‚
â”‚                   /api/municipalities                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de Busca Passo a Passo

```
1. UsuÃ¡rio preenche filtros
   â””â”€ Termo: "investimento"
   â””â”€ MunicÃ­pio: "5208707"
   â””â”€ Data: "2023-01-01" a "2023-12-31"
   â””â”€ Categoria: "outros"

2. Clica em "Pesquisar"
   â””â”€ Dashboard chama useSearch.search(filters, page=1)

3. Hook useSearch gerencia estado
   â””â”€ setLoading(true)
   â””â”€ setError(null)
   â””â”€ Chama BackendIntegrationService.search()

4. ServiÃ§o executa
   â””â”€ Verifica cache (MISS - primeira vez)
   â””â”€ ConstrÃ³i URL com parÃ¢metros
   â””â”€ Executa fetch() com headers padrÃ£o

5. Backend processa
   â””â”€ Recebe: /api/search?territory_id=5208707&search_term=investimento&...
   â””â”€ Busca no banco de dados
   â””â”€ Retorna dados paginados (10 por pÃ¡gina)

6. ServiÃ§o recebe resposta
   â””â”€ Armazena no cache
   â””â”€ Retorna para o hook

7. Hook atualiza estado
   â””â”€ setResults(data.data)
   â””â”€ setTotalResults(data.total)
   â””â”€ setCurrentPage(1)
   â””â”€ setLoading(false)

8. Componente re-renderiza
   â””â”€ Mostra resultados
   â””â”€ Mostra paginaÃ§Ã£o
   â””â”€ UsuÃ¡rio pode navegar para prÃ³xima pÃ¡gina
```

## Fluxo de Cache

```
PRIMEIRA CHAMADA (Cache MISS):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   useSearch.search â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cache.get('ranking:all')       â”‚
â”‚ â†’ NÃ£o encontrado               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fetch() â†’ Backend API          â”‚
â”‚ â†’ Aguarda resposta (~ 200-500ms)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cache.set('ranking:all', data) â”‚
â”‚ â†’ Armazena em memÃ³ria + timestamp
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
         âœ… RETORNA

SEGUNDA CHAMADA (Cache HIT):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   useSearch.search â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cache.get('ranking:all')       â”‚
â”‚ â†’ Encontrado + TTL vÃ¡lido      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
         âœ… RETORNA (~ 1-5ms)

TERCEIRA CHAMADA (Cache EXPIRADO):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   useSearch.search â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cache.get('ranking:all')       â”‚
â”‚ â†’ Encontrado MAS TTL expirado  â”‚
â”‚ â†’ Remove do cache              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fetch() â†’ Backend API (NOVAMENTE)
â”‚ â†’ TTL expirou, vai Ã  API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
         âœ… RETORNA
```

## Estados do Componente

```
ESTADO INICIAL
â”œâ”€ loading: false
â”œâ”€ error: null
â”œâ”€ searchResults: []
â”œâ”€ totalResults: 0
â””â”€ currentPage: 1

â†“ UsuÃ¡rio clica em "Pesquisar"

CARREGANDO
â”œâ”€ loading: true
â”œâ”€ error: null
â”œâ”€ searchResults: []
â”œâ”€ totalResults: 0
â””â”€ currentPage: 1

â†“ Resposta do servidor

SUCESSO
â”œâ”€ loading: false
â”œâ”€ error: null
â”œâ”€ searchResults: [GazetteAnalysis, ...]
â”œâ”€ totalResults: 127
â””â”€ currentPage: 1

â†“ UsuÃ¡rio navega para prÃ³xima pÃ¡gina

PÃGINA 2
â”œâ”€ loading: true
â”œâ”€ error: null
â”œâ”€ searchResults: [...]  â† dados antigos temporariamente
â”œâ”€ totalResults: 127
â””â”€ currentPage: 2

â†“ Dados da pÃ¡gina 2 chegam

ATUALIZADO
â”œâ”€ loading: false
â”œâ”€ error: null
â”œâ”€ searchResults: [GazetteAnalysis (pÃ¡gina 2), ...]
â”œâ”€ totalResults: 127
â””â”€ currentPage: 2
```

## Estrutura de Filtros

```
SearchFilters {
  territory_id?: string           â† ID do municÃ­pio
  search_term?: string            â† Termo de pesquisa
  start_date?: string             â† Data inÃ­cio (YYYY-MM-DD)
  end_date?: string               â† Data fim (YYYY-MM-DD)
  category?: string               â† Categoria de investimento
  [key: string]: unknown          â† Campos adicionais
}

Exemplo:
{
  territory_id: "5208707",
  search_term: "infraestrutura",
  start_date: "2023-01-01",
  end_date: "2023-12-31",
  category: "construccao"
}
```

## Tratamento de Erros

```
FLUXO DE ERRO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  await fetch(url)              â”‚
â”‚  â†’ Status nÃ£o 200-299          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ApiErrorHandler.create(error) â”‚
â”‚  â†’ Converte para ApiError      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  throw {                       â”‚
â”‚    message: string             â”‚
â”‚    code: string                â”‚
â”‚    status: number              â”‚
â”‚  }                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  catch (error)                 â”‚
â”‚  â†’ setError(error.message)     â”‚
â”‚  â†’ Mostrar em UI               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## PaginaÃ§Ã£o AutomÃ¡tica

```
TOTAL DE RESULTADOS: 127
TAMANHO DA PÃGINA: 10

CÃ¡lculo: totalPages = Math.ceil(127 / 10) = 13

PÃGINAS DISPONÃVEIS:
PÃ¡gina 1: itens 0-9 (10 itens)
PÃ¡gina 2: itens 10-19 (10 itens)
PÃ¡gina 3: itens 20-29 (10 itens)
...
PÃ¡gina 13: itens 120-126 (7 itens - Ãºltima pÃ¡gina)

NAVEGAÃ‡ÃƒO:
currentPage = 1
â”œâ”€ BotÃ£o "Anterior" â†’ DESABILITADO
â”œâ”€ Mostrar pÃ¡ginas: [1] [2] [3] ... [13]
â””â”€ BotÃ£o "PrÃ³ximo" â†’ HABILITADO

currentPage = 13 (Ãºltima)
â”œâ”€ BotÃ£o "Anterior" â†’ HABILITADO
â”œâ”€ Mostrar pÃ¡ginas: [1] ... [11] [12] [13]
â””â”€ BotÃ£o "PrÃ³ximo" â†’ DESABILITADO
```

## Tipos de Dados Retornados

```
GazetteAnalysis
â”œâ”€ territory_id: string
â”œâ”€ territory_name?: string
â”œâ”€ analysis_date?: string
â”œâ”€ data?: Record<string, unknown>
â””â”€ [key: string]: unknown

Municipality
â”œâ”€ total_gazettes: number
â”œâ”€ total_invested: number
â”œâ”€ top_categories: CategoryData
â””â”€ statistics: MunicipalityStatistics
  â”œâ”€ total_gazettes: number
  â”œâ”€ date_range: { start, end }
  â”œâ”€ total_entities: number
  â”œâ”€ entity_counts_by_type: {}
  â”œâ”€ top_entities: {}
  â”œâ”€ total_invested: number
  â””â”€ top_categories: {}

PaginatedResponse<T>
â”œâ”€ data: T[]
â”œâ”€ total: number
â”œâ”€ page: number
â”œâ”€ page_size: number
â””â”€ total_pages: number
```

---

**Diagrama tÃ©cnico da arquitetura IntegraÃ§Ã£o-B**
*Documento de referÃªncia visual para desenvolvimento*
